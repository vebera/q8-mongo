# MongoDB Production Configuration
# Copy this file to .env and update with your values

# MongoDB Root User
MONGO_USER={MONGO_USER}
MONGO_PASSWORD={MONGO_PASSWORD}

# MongoDB Port
MONGO_PORT=27017

# WiredTiger Cache Size (GB)
# Recommended: 60-70% of available RAM
# CCX43 (48GB RAM): 32GB
# CCX53 (64GB RAM): 40GB
MONGO_CACHE_SIZE_GB=8

# Resource Limits
MONGO_MEMORY_LIMIT=50G
MONGO_CPU_LIMIT=6
MONGO_MEMORY_RESERVATION=32G
MONGO_CPU_RESERVATION=2

# Storage Paths (absolute paths on host)
# Production volume mounted at /mnt/volume-db-prod
MONGO_DATA_DIR=/mnt/volume-db-prod/mongodb
MONGO_CONFIG_DIR=/mnt/volume-db-prod/mongodb-config
MONGO_LOG_DIR=/mnt/volume-db-prod/mongodb-logs
MONGO_BACKUP_DIR=/mnt/volume-db-prod/mongodb-backups

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM (cron format)

# MongoDB Express (optional, for development)
MONGO_EXPRESS_ENABLED=false
MONGO_EXPRESS_PORT=8081
MONGO_EXPRESS_USER={MONGO_EXPRESS_USER}
MONGO_EXPRESS_PASSWORD={MONGO_EXPRESS_PASSWORD}

# Docker Platform
DOCKER_PLATFORM=linux/amd64
